<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="../common/commondata.js"></script>
</head>
<body>
<script>
    function filter(list, predicate) {
        var newList = [];
        for (var i = 0; i < list.length; i++) {
            if (predicate(list[i])) newList.push(list[i]);
        }
        return newList;
    }

    function map(list, iteratee) {
        var newList = [];
        for (var i = 0; i < list.length; i++)
            newList.push(iteratee(list[i]));
        return newList;
    }
    function findById(list, id) {
        for (var i = 0; i < list.length; i++) {
            if (list[i].id == id)
                return list[i];
        }
    }

    console.log(findById(users, 3));
    console.log(findById(users, 5));

    function findByAge(list, age) {
        for (var i = 0; i < list.length; i++)
            if (list[i].age === age)
                return list[i];
    }

    console.log(findByAge(users, 28));
    console.log(findByAge(users, 25))

    function findBy(key, list, val) {
        for (var i = 0; i < list.length; i++) {
            if (list[i][key] === val)
                return list[i];
        }
    }

    console.log(findBy('name', users, 'BJ'));
    console.log(findBy('id', users, 2));
    console.log(findBy('age', users, 28));

    function User(id, name, age) {
        this.getId = function () {
            return id;
        }
        this.getName = function () {
            return name;
        }
        this.getAge = function () {
            return age;
        }
    }

    var user2 = [
        new User(1, "ID", 32),
        new User(2, "HA", 25),
        new User(3, "BJ", 32),
        new User(4, "PJ", 28),
        new User(5, "JE", 27),
        new User(6, "JM", 32),
        new User(7, "HI", 24)
    ];


    function find(list, predicate) {
        for (var i = 0; i < list.length; i++) {
            if (predicate(list[i]))
                return list[i];
        }

    }

    console.log(find(user2,function (u){return u.getAge()===25;}).getName());
    console.log(map(filter(users,function (u){return u.age>=30}),function (u){return u.name}));
    function bmatch1(key,val){
        return function (obj){
            return obj[key]===val;
        }
    }

    console.log(find(users,bmatch1('id',1)));
    console.log(find(users,bmatch1('name',"HI")));
    console.log(find(users,bmatch1('age',27)));
    console.log(filter(users,bmatch1('age',32)));
    _.map=function (list,iteratee){
        var newList=[];
        for(var i=0;i<list.length;i++){
            newList.push(iteratee(list[i],i,list));
        }
    }



</script>

</body>
</html>